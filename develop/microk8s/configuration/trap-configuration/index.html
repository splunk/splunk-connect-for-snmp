
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../snmp-data-format/">
      
      
        <link rel="next" href="../worker-configuration/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Traps - Splunk Connect for SNMP (SC4SNMP)</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trap-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Splunk Connect for SNMP (SC4SNMP)" class="md-header__button md-logo" aria-label="Splunk Connect for SNMP (SC4SNMP)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Splunk Connect for SNMP (SC4SNMP)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Traps
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Splunk Connect for SNMP (SC4SNMP)" class="md-nav__button md-logo" aria-label="Splunk Connect for SNMP (SC4SNMP)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Splunk Connect for SNMP (SC4SNMP)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    High-level design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/planning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infrastructure Planning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started with Docker Compose
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started with Docker Compose
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/0-splunk-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Splunk Requirements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/1-install-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/2-download-package/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download package
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/3-inventory-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inventory configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/4-scheduler-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scheduler configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/5-traps-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Traps configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/6-env-file-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    .env file configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/7-snmpv3-secrets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SNMPv3 secrets configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/8-offline-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Offline installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/9-splunk-logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sending logs to Splunk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dockercompose/10-enable-ipv6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable IPv6
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started with Microk8s
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Getting Started with Microk8s
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../splunk-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Splunk Requirements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mk8s/k8s-microk8s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Platform Microk8s
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sck-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Splunk OpenTelemetry Collector for Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sc4snmp-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install SC4SNMP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../enable-ipv6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable IPv6
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mk8s/k8s-microk8s-scaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scaling with Microk8s
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../values-params-description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configurable values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Polling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Polling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../poller-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Poller
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scheduler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Profiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Groups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-by-step-poll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Step by Step polling example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snmp-data-format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SNMP data format
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Traps
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Traps
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trap-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Trap configuration file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-communities" class="md-nav__link">
    <span class="md-ellipsis">
      Define communities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-user-secrets-for-snmpv3" class="md-nav__link">
    <span class="md-ellipsis">
      Configure user secrets for SNMPv3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-security-engines-id-for-snmpv3" class="md-nav__link">
    <span class="md-ellipsis">
      Define security engines ID for SNMPv3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-trap-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Updating trap configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-external-gateway-for-traps" class="md-nav__link">
    <span class="md-ellipsis">
      Define external gateway for traps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Define external gateway for traps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-metallb-loadbalancer" class="md-nav__link">
    <span class="md-ellipsis">
      Using MetalLB LoadBalancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-nodeport" class="md-nav__link">
    <span class="md-ellipsis">
      Using NodePort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cloud-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Using Cloud Load Balancer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-number-of-traps-server-replica" class="md-nav__link">
    <span class="md-ellipsis">
      Define number of traps server replica
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-log-level" class="md-nav__link">
    <span class="md-ellipsis">
      Define log level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Define annotations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate-traps" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregate traps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../worker-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Worker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mongo-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Redis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snmpv3-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SNMPv3 configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sim-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Splunk Infrastructure Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../coredns-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CoreDNS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Offline Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Offline Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../offlineinstallation/offline-microk8s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Microk8s
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../offlineinstallation/offline-sck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Splunk OpenTelemetry Collector for Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../offlineinstallation/offline-sc4snmp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install SC4SNMP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    GUI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            GUI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gui/enable-gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enable GUI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gui/profiles-gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Profiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gui/groups-gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Groups
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gui/inventory-gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Inventory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gui/apply-changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apply changes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrade SC4SNMP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    High Availability
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../small-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lightweight installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Splunk dashboards
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../releases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mib-request/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Request MIB
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mtls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mTLS
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/configuring-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accessing and configuring logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/docker-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/k8s-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubernetes commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/general-issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    General issues
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/polling-issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Polling issues
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/traps-issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Traps issues
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trap-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Trap configuration file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-communities" class="md-nav__link">
    <span class="md-ellipsis">
      Define communities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-user-secrets-for-snmpv3" class="md-nav__link">
    <span class="md-ellipsis">
      Configure user secrets for SNMPv3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-security-engines-id-for-snmpv3" class="md-nav__link">
    <span class="md-ellipsis">
      Define security engines ID for SNMPv3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-trap-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Updating trap configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-external-gateway-for-traps" class="md-nav__link">
    <span class="md-ellipsis">
      Define external gateway for traps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Define external gateway for traps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-metallb-loadbalancer" class="md-nav__link">
    <span class="md-ellipsis">
      Using MetalLB LoadBalancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-nodeport" class="md-nav__link">
    <span class="md-ellipsis">
      Using NodePort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cloud-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Using Cloud Load Balancer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-number-of-traps-server-replica" class="md-nav__link">
    <span class="md-ellipsis">
      Define number of traps server replica
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-log-level" class="md-nav__link">
    <span class="md-ellipsis">
      Define log level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Define annotations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate-traps" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregate traps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div><h1 id="trap-configuration">Trap Configuration<a class="headerlink" href="#trap-configuration" title="Permanent link">¶</a></h1>
<p>A trap service is a simple server that can handle SNMP traps sent by SNMP devices, such as routers or switches.   </p>
<h3 id="trap-configuration-file">Trap configuration file<a class="headerlink" href="#trap-configuration-file" title="Permanent link">¶</a></h3>
<p>The trap configuration is kept in the <code>values.yaml</code> file in section traps.
<code>values.yaml</code> is used during the installation process for configuring Kubernetes values.</p>
<p>See the following trap example configuration:
</p><div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">communities</span><span class="p">:</span>
<span class="w">    </span><span class="nt">1</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">public</span><span class="w"> </span>
<span class="w">    </span><span class="nt">2c</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">public</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">homelab</span>
<span class="w">  </span><span class="nt">usernameSecrets</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">secretv3</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sc4snmp-homesecure-sha-des</span>

<span class="w">  </span><span class="c1"># Overrides the logLevel tag whose default is the chart</span>
<span class="w">  </span><span class="nt">logLevel</span><span class="p">:</span><span class="w"> </span><span class="s">"WARN"</span>
<span class="w">  </span><span class="c1"># disableMongoDebugLogging is used to disable extensive debug logging for MongoDB+pymongo while logLevel is set to DEBUG.</span>
<span class="w">  </span><span class="nt">disableMongoDebugLogging</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="c1"># controls whether to add the context_engine_id field to v3 trap events</span>
<span class="w">  </span><span class="nt">includeSecurityContextId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="c1"># replicas: Number of replicas for trap container should be 2x number of nodes</span>
<span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="c1">#loadBalancerIP: The IP address in the metallb pool</span>
<span class="w">  </span><span class="nt">loadBalancerIP</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.202.4.202</span>
<span class="w">  </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span>
<span class="w">    </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500m</span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">512Mi</span>
<span class="w">    </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">      </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200m</span>
<span class="w">      </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">256Mi</span><span class="w">  </span>
</code></pre></div>
<h3 id="define-communities">Define communities<a class="headerlink" href="#define-communities" title="Permanent link">¶</a></h3>
<p><code>communities</code> defines a version of an SNMP protocol and an SNMP community string, which should be used. 
The <code>communities</code> key is split by protocol version, with <code>1</code> and <code>2c</code> as supported values. Under the <code>version</code> section, you can define the SNMP community string.</p>
<p>See the following example: 
</p><div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">communities</span><span class="p">:</span>
<span class="w">    </span><span class="nt">1</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">public</span><span class="w"> </span>
<span class="w">    </span><span class="nt">2c</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">public</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">homelab</span>
</code></pre></div>
<h3 id="configure-user-secrets-for-snmpv3">Configure user secrets for SNMPv3<a class="headerlink" href="#configure-user-secrets-for-snmpv3" title="Permanent link">¶</a></h3>
<p>The <code>usernameSecrets</code> key in the <code>traps</code> section defines the SNMPv3 secrets for the trap messages sent by the SNMP device. 
<code>usernameSecrets</code> defines which secrets in “Secret” objects in k8s should be used, as a value it needs the name of “Secret” objects. 
For more information on how to define the “Secret” object for SNMPv3, see <a href="../snmpv3-configuration/">SNMPv3 Configuration</a>.</p>
<p>See the following example:
</p><div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">    </span><span class="nt">usernameSecrets</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sc4snmp-homesecure-sha-aes</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sc4snmp-homesecure-sha-des</span>
</code></pre></div>
<h3 id="define-security-engines-id-for-snmpv3">Define security engines ID for SNMPv3<a class="headerlink" href="#define-security-engines-id-for-snmpv3" title="Permanent link">¶</a></h3>
<p>SNMPv3 TRAPs require the configuration of SNMP Engine ID of the TRAP sending application for the USM users table of 
the TRAP receiving application for each USM user. The SNMP Engine ID is usually unique for the device, and the SC4SNMP 
as a trap receiver has to be aware of which security engine IDs to accept. Define all of them under <code>traps.securityEngineId</code> 
in <code>values.yaml</code>.</p>
<p>By default, it is set to a one-element list: <code>[80003a8c04]</code>, for example: </p>
<div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">    </span><span class="nt">securityEngineId</span><span class="p">:</span><span class="w"> </span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"80003a8c04"</span>
</code></pre></div>
<p>The <code>securityEngineID</code> is a substitute of the <code>-e</code> variable in <code>snmptrap</code>.
The following is an example of an SNMPv3 trap:</p>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">snmptrap -v3 -e 80003a8c04 -l authPriv -u snmp-poller -a SHA -A PASSWORD1 -x AES -X PASSWORD1 10.202.13.233 '' 1.3.6.1.2.1.2.2.1.1.1</span>
</code></pre></div>
<h3 id="updating-trap-configuration">Updating trap configuration<a class="headerlink" href="#updating-trap-configuration" title="Permanent link">¶</a></h3>
<p>If you need to update part of the traps configuration, you can do it by editing the <code>values.yaml</code> and then running the following command to restart the pod deployment:
</p><div class="highlight"><pre><span></span><code>microk8s kubectl rollout restart deployment snmp-splunk-connect-for-snmp-trap -n sc4snmp
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The name of the deployment can differ based on the helm installation name. 
This can be checked with the following command: 
</p><div class="highlight"><pre><span></span><code>microk8s kubectl get deployments -n sc4snmp
</code></pre></div>
</div>
<h3 id="define-external-gateway-for-traps">Define external gateway for traps<a class="headerlink" href="#define-external-gateway-for-traps" title="Permanent link">¶</a></h3>
<h4 id="using-metallb-loadbalancer">Using MetalLB LoadBalancer<a class="headerlink" href="#using-metallb-loadbalancer" title="Permanent link">¶</a></h4>
<p>If you use SC4SNMP on a multinode setup, configure <code>loadBalancerIP</code>.
<code>loadBalancerIP</code> should be an IP assigned from your MetalLB address pool in the same subnet as your cluster nodes can reach.
See the following example:</p>
<p></p><div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">loadBalancerIP</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.202.4.202</span>
</code></pre></div>
If you have enabled IPv6 dual‑stack, provide both IPv4 and IPv6 addresses as a comma‑separated list:
See the following example:
<div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">loadBalancerIP</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.202.4.202,2001:0DB8:AC10:FE01:0000:0000:0000:0001</span>
</code></pre></div>
<h4 id="using-nodeport">Using NodePort<a class="headerlink" href="#using-nodeport" title="Permanent link">¶</a></h4>
<p>For single‑node clusters or simple setups without a load balancer, you can expose the traps receiver on a fixed port across all node IPs with <code>NodePort</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NodePort</span>
<span class="w">    </span><span class="nt">externalTrafficPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cluster</span>
<span class="w">    </span><span class="nt">nodePort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30000</span>
</code></pre></div>
<p>This way the trap receiver will be available on all node IPs on port 30000.</p>
<h4 id="using-cloud-load-balancer">Using Cloud Load Balancer<a class="headerlink" href="#using-cloud-load-balancer" title="Permanent link">¶</a></h4>
<p>You can also deploy the traps receiver without MetalLB or NodePort, using Kubernetes Service annotations supported by your cloud platform.
For example, on AWS EKS you can enable an AWS Network Load Balancer with annotations:</p>
<div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">service</span><span class="p">:</span>
<span class="w">    </span><span class="nt">usemetallb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">      </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external</span>
<span class="w">      </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ip</span>
<span class="w">      </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internal</span>
</code></pre></div>
<h3 id="define-number-of-traps-server-replica">Define number of traps server replica<a class="headerlink" href="#define-number-of-traps-server-replica" title="Permanent link">¶</a></h3>
<p><code>replicaCount</code> defines that the number of replicas per trap container should be 2 times the number of nodes.</p>
<div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="c1">#For production deployments the value should be at least 2x the number of nodes</span>
<span class="w">  </span><span class="c1"># Minimum 2 for a single node</span>
<span class="w">  </span><span class="c1"># Minimum 6 for multi-node HA</span>
<span class="w">  </span><span class="nt">replicaCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<h3 id="define-log-level">Define log level<a class="headerlink" href="#define-log-level" title="Permanent link">¶</a></h3>
<p>The log level for trap can be set by changing the value for the <code>logLevel</code> key. The allowed values are<code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, or <code>ERROR</code>. 
The default value is <code>WARNING</code>.</p>
<h3 id="define-annotations">Define annotations<a class="headerlink" href="#define-annotations" title="Permanent link">¶</a></h3>
<p>In case you need to append some annotations to the <code>trap</code> service, you can do so by setting <code>traps.service.annotations</code>, for example:</p>
<div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">service</span><span class="p">:</span>
<span class="w">    </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">      </span><span class="nt">annotation_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">annotation_value</span>
</code></pre></div>
<h3 id="aggregate-traps">Aggregate traps<a class="headerlink" href="#aggregate-traps" title="Permanent link">¶</a></h3>
<p>In case you want to see traps events collected as one event inside Splunk, you can enable it by setting <code>traps.aggregateTrapsEvents</code>, for example:
</p><div class="highlight"><pre><span></span><code><span class="nt">traps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">aggregateTrapsEvents</span><span class="p">:</span><span class="w"> </span><span class="s">"true"</span>
</code></pre></div>
Then the upgrade command can be executed.</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <p>Webpages built on GitHub Pages | <a href="https://docs.github.com/en/site-policy/github-terms/github-terms-of-service">Github Terms</a> | <a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement">GitHub Privacy</a></p>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../../../javascripts/footer.js"></script>
      
    
  </body>
</html>